# Golden Files Manifest for clap-noun-verb Package
# Defines reference outputs and validation rules for regression testing
# Version: 1.0
# Last Updated: 2026-01-06

[metadata]
package = "clap-noun-verb"
version = "5.4.0"
purpose = "Deterministic output validation for code generation"
compliance = "Chicago TDD + Deterministic Validation (CLAUDE.md)"

[[examples]]
name = "calculator-simple"
description = "Basic calculator with 4 operations (add, subtract, multiply, divide)"
ontology = "examples/calculator.ttl"
complexity = "beginner"
category = "arithmetic"

[examples.files]
"Cargo.toml" = { hash = "sha256:AUTO", size = "AUTO", validator = "toml" }
"src/main.rs" = { hash = "sha256:AUTO", size = "AUTO", validator = "rust" }
"src/lib.rs" = { hash = "sha256:AUTO", size = "AUTO", validator = "rust" }
"src/cli.rs" = { hash = "sha256:AUTO", size = "AUTO", validator = "rust" }
"src/error.rs" = { hash = "sha256:AUTO", size = "AUTO", validator = "rust" }

[examples.execution]
command = "cargo run -- calc add 5 3"
expected_output = "Result: 8"
exit_code = 0

[[examples]]
name = "calculator-enhanced"
description = "Scientific calculator with 12 operations including trig and exponential"
ontology = "examples/enhanced-calculator.ttl"
complexity = "intermediate"
category = "scientific"

[examples.files]
"Cargo.toml" = { hash = "sha256:AUTO", size = "AUTO", validator = "toml" }
"src/main.rs" = { hash = "sha256:AUTO", size = "AUTO", validator = "rust" }
"src/handlers/*.rs" = { hash = "sha256:AUTO", size = "AUTO", validator = "rust" }

[examples.execution]
command = "cargo run -- calc sin 1.5708 --radians"
expected_output = "Result: 1"
exit_code = 0
tolerance = "0.0001"

[[examples]]
name = "enterprise-generated"
description = "Multi-noun enterprise CLI with resource management"
ontology = "examples/enterprise-ops.ttl"
complexity = "advanced"
category = "enterprise"

[examples.files]
"Cargo.toml" = { hash = "sha256:AUTO", size = "AUTO", validator = "toml" }
"src/main.rs" = { hash = "sha256:AUTO", size = "AUTO", validator = "rust" }
"src/resources/*.rs" = { hash = "sha256:AUTO", size = "AUTO", validator = "rust" }
"src/error.rs" = { hash = "sha256:AUTO", size = "AUTO", validator = "rust" }

# Validation Rules
[validation]
strict_mode = true
check_formatting = true
check_clippy = false  # Defer to CI
deterministic = true
bytewise_comparison = true

# Checksums are computed and stored separately
# See update-checksums.sh to regenerate
[checksums]
calculator-simple-Cargo.toml = "sha256:PLACEHOLDER"
calculator-simple-main.rs = "sha256:PLACEHOLDER"
calculator-enhanced-Cargo.toml = "sha256:PLACEHOLDER"
calculator-enhanced-main.rs = "sha256:PLACEHOLDER"
enterprise-generated-Cargo.toml = "sha256:PLACEHOLDER"

# Comparison Rules
[comparison]
ignore_patterns = [
  "**/target/**",
  "**/.git/**",
  "**/.DS_Store",
  "**/Cargo.lock"
]
strict_whitespace = true
normalize_line_endings = "lf"

# Performance SLOs
[slo]
generation_time_ms = 5000
compilation_time_s = 30
test_execution_time_s = 10
total_e2e_time_s = 60
