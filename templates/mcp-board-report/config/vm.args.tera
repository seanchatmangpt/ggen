## =============================================================================
## MCP+ Erlang VM Arguments
##
## Core axiom: A = μ(O), μ ∘ μ = μ, hash(A) = hash(μ(O)), O ⊨ Σ
##
## Generated by ggen - DO NOT EDIT MANUALLY
## Regenerate with: ggen sync --audit true
## =============================================================================

## Node name
-name {{ node_name | default(value="mcp@127.0.0.1") }}

## Cookie for distributed Erlang
-setcookie {{ cookie | default(value="mcp_secret_cookie_change_me") }}

## Heartbeat monitoring
-heart

## Enable kernel poll (epoll on Linux)
+K true

## Async thread pool size for file I/O
+A {{ async_threads | default(value=128) }}

## Schedulers
+S {{ schedulers | default(value="auto:auto") }}

## Dirty CPU schedulers (for NIF operations)
+SDcpu {{ dirty_cpu_schedulers | default(value="auto:auto") }}

## Dirty I/O schedulers
+SDio {{ dirty_io_schedulers | default(value=10) }}

## Scheduler busy wait threshold
+sbwt {{ scheduler_busy_wait | default(value="short") }}

## Max ports (file descriptors)
+Q {{ max_ports | default(value=65536) }}

## Max processes
+P {{ max_processes | default(value=262144) }}

## Max atoms
+t {{ max_atoms | default(value=1048576) }}

## Binary virtual heap size (bytes)
+hms {{ binary_heap_size | default(value=32768) }}

## Maximum heap size (words)
+hmax {{ max_heap_size | default(value=0) }}

## Garbage collection
## Use fullsweep after N minor GCs
+hpds {{ fullsweep_after | default(value=65535) }}

## Memory allocator configuration
+MBcs {{ carrier_size | default(value=32768) }}
+MBsbct {{ singleblock_carrier_threshold | default(value=512) }}

## Enable SMP support
-smp enable

## Distribution buffer busy limit
+zdbbl {{ dist_buffer_busy_limit | default(value=32768) }}

## Crash dump file
-env ERL_CRASH_DUMP {{ crash_dump_path | default(value="/var/log/mcp/erl_crash.dump") }}

## NIF library path
-env LD_LIBRARY_PATH {{ nif_lib_path | default(value="./priv:$LD_LIBRARY_PATH") }}

## Timezone
-env TZ UTC

## Proto dist module (for TLS distribution)
{% if proto_dist is defined %}
-proto_dist {{ proto_dist }}
{% endif %}

## SSL options for distribution (if TLS enabled)
{% if ssl_dist_optfile is defined %}
-ssl_dist_optfile {{ ssl_dist_optfile }}
{% endif %}

## Additional paths
-pa {{ additional_paths | default(value="./ebin") }}

## Embedded mode (no code loading at runtime)
{% if embedded_mode | default(value=false) %}
-mode embedded
{% endif %}
