{
    "sourceFile": "cleanroom/tests/bdd/features/attestation.feature",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1760261427412,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1760261427412,
            "name": "Commit-0",
            "content": "Feature: Attestation and Signing\n  As a developer\n  I want to sign and verify test artifacts\n  So that I can ensure integrity and authenticity\n\n  Background:\n    Given I have a clean test environment\n\n  Scenario: Basic artifact signing\n    Given I have attestation enabled\n    And I have a signing key \"signing_key.pem\"\n    And I have a file \"test_artifact.txt\" with content:\n      \"\"\"\n      Test artifact content\n      \"\"\"\n    When I sign the artifact \"test_artifact.txt\"\n    Then the artifact should be signed\n\n  Scenario: Signature verification\n    Given I have attestation enabled\n    And I have a verification key \"verification_key.pem\"\n    And I have a signed artifact \"signed_artifact.txt\"\n    When I verify the signature of \"signed_artifact.txt\"\n    Then the signature should be valid\n\n  Scenario: Invalid signature detection\n    Given I have attestation enabled\n    And I have a verification key \"verification_key.pem\"\n    And I have a file \"corrupted_artifact.txt\" with content:\n      \"\"\"\n      Corrupted content\n      \"\"\"\n    When I verify the signature of \"corrupted_artifact.txt\"\n    Then the signature should be invalid\n\n  Scenario: Attestation creation\n    Given I have attestation enabled\n    And I have a signing key \"signing_key.pem\"\n    And I have a file \"target_artifact.bin\" with content:\n      \"\"\"\n      Binary artifact content\n      \"\"\"\n    When I create an attestation for \"target_artifact.bin\"\n    Then the attestation should be created\n    And the attestation should include metadata\n    And the attestation should include artifacts\n\n  Scenario: Attestation verification\n    Given I have attestation enabled\n    And I have a verification key \"verification_key.pem\"\n    And I have a file \"attested_artifact.json\" with content:\n      \"\"\"\n      {\"data\": \"test\"}\n      \"\"\"\n    When I create an attestation for \"attested_artifact.json\"\n    And I verify the attestation for \"attested_artifact.json\"\n    Then the attestation should be verified\n\n  Scenario: Invalid attestation detection\n    Given I have attestation enabled\n    And I have a verification key \"verification_key.pem\"\n    And I have a file \"invalid_artifact.txt\" with content:\n      \"\"\"\n      Invalid content\n      \"\"\"\n    When I create an attestation for \"invalid_artifact.txt\"\n    And I verify the attestation for \"invalid_artifact.txt\"\n    Then the attestation should be invalid\n\n  Scenario: Verification report generation\n    Given I have attestation enabled\n    And I have a signed artifact \"artifact1.txt\"\n    And I have a signed artifact \"artifact2.bin\"\n    And I have a signed artifact \"artifact3.json\"\n    When I generate a verification report\n    Then the verification report should be generated\n    And the verification should pass\n\n  Scenario: Failed verification report\n    Given I have attestation enabled\n    And I have a file \"failed_artifact.txt\" with content:\n      \"\"\"\n      Failed verification content\n      \"\"\"\n    When I generate a verification report\n    Then the verification report should be generated\n    And the verification should fail\n\n  Scenario: Trust level assessment\n    Given I have attestation enabled\n    And I have a signed artifact \"trusted_artifact.txt\"\n    When I generate a verification report\n    Then the verification report should be generated\n    And the trust level should be \"MEDIUM\"\n\n  Scenario: Signing key protection\n    Given I have attestation enabled\n    And I have a signing key \"protected_key.pem\"\n    When I sign the artifact \"test_artifact.txt\"\n    Then the artifact should be signed\n    And the signing key should be protected\n\n  Scenario: Attestation policy enforcement\n    Given I have attestation enabled\n    And I have an attestation policy \"attestation_policy.yaml\"\n    And I have a file \"policy_artifact.txt\" with content:\n      \"\"\"\n      Policy enforced content\n      \"\"\"\n    When I create an attestation for \"policy_artifact.txt\"\n    Then the attestation should be created\n    And the attestation should include metadata\n"
        }
    ]
}