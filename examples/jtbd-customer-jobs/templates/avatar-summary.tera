---
to: output/avatars.mjs
description: Customer avatar definitions with jobs
metadata:
  category: jtbd
  output_type: data
---
/**
 * @fileoverview JTBD Customer Avatars
 * DO NOT EDIT - auto-generated by ggen sync
 * @module jtbd/avatars
 */

/**
 * @typedef {Object} Avatar
 * @property {string} name
 * @property {string} description
 * @property {string} segment
 * @property {number} painLevel
 * @property {string} mainJob
 */

/**
 * Customer avatars ordered by pain level (highest first)
 * @type {Avatar[]}
 */
export const avatars = [
{%- for row in sparql_results %}
  {
    name: "{{ row["?avatarName"] }}",
    description: "{{ row["?avatarDescription"] }}",
    segment: "{{ row["?avatarSegment"] }}",
    painLevel: {{ row["?avatarPainLevel"] }},
    mainJob: "{{ row["?jobName"] }}",
  },
{%- endfor %}
];

/**
 * Get avatar by name
 * @param {string} name
 * @returns {Avatar | undefined}
 */
export function getAvatar(name) {
  return avatars.find(a => a.name === name);
}

/**
 * Get avatars by segment
 * @param {string} segment
 * @returns {Avatar[]}
 */
export function getAvatarsBySegment(segment) {
  return avatars.filter(a => a.segment === segment);
}

/**
 * Get high-pain avatars (painLevel >= 8)
 * @returns {Avatar[]}
 */
export function getHighPainAvatars() {
  return avatars.filter(a => a.painLevel >= 8);
}

// Summary statistics
export const stats = {
  totalAvatars: avatars.length,
  segments: [...new Set(avatars.map(a => a.segment))],
  avgPainLevel: avatars.reduce((sum, a) => sum + a.painLevel, 0) / avatars.length,
};
