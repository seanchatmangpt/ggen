variable "project_id" {
  type        = string
  description = "GCP Project ID"
}

variable "region" {
  type        = string
  default     = "us-central1"
  description = "GCP region"
}

variable "env" {
  type        = string
  default     = "prod"
  description = "Environment (prod/staging/dev)"
}

variable "artifact_repo_id" {
  type        = string
  default     = "autonomics-skus"
  description = "Artifact Registry repository ID"
}

variable "firestore_location" {
  type        = string
  default     = "nam5"
  description = "Firestore database location"
}

variable "create_firestore" {
  type        = bool
  default     = false
  description = "Create Firestore database (set false if already exists)"
}

variable "enable_cloud_build_triggers" {
  type        = bool
  default     = true
  description = "Create Cloud Build triggers for SKUs"
}

variable "enable_marketplace_hmac" {
  type        = bool
  default     = true
  description = "Create Secret Manager secrets for Marketplace HMAC"
}

variable "github_owner" {
  type        = string
  description = "GitHub repository owner"
}

variable "github_repo" {
  type        = string
  description = "GitHub repository name"
}

variable "github_branch_regex" {
  type        = string
  default     = "^main$"
  description = "GitHub branch regex to trigger builds"
}

variable "common_labels" {
  type        = map(string)
  default     = {}
  description = "Common labels for all resources"
}

variable "skus" {
  type = map(object({
    module_prefix             = string
    sku_id                    = string
    image_uri                 = string
    action_groups             = list(string)
    allow_marketplace_public  = bool
    marketplace_hmac_secret   = optional(string, "")
  }))
  description = "SKU configurations"
}
