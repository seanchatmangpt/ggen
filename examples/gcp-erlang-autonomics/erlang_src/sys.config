[
  %% Observability Application Configuration
  {observability, [
    %% Metrics Collection
    {metrics_scrape_interval, 10000},      %% Collect metrics every 10 seconds
    {metrics_max_history, 1000},           %% Keep last 1000 metric snapshots

    %% GCP Cloud Monitoring
    {gcp_project_id, "your-gcp-project"},  %% Set via environment variable
    {gcp_bucket, "beam-cluster-profiles"},

    %% Tracing Configuration
    {trace_buffer_size, 104857600},        %% 100MB trace buffer
    {trace_log_sampling_rate, 1.0},        %% 100% sampling (set to 0.1 for 10%)
    {trace_storage_backend, cloud_logging}, %% cloud_logging or file

    %% Profiling Configuration
    {profile_dir, "./profiles"},
    {profile_interval, 3600000},           %% Hourly snapshots
    {enable_cpu_profiling, true},
    {enable_memory_profiling, true},

    %% Alert Configuration
    {alert_check_interval, 10000},         %% Check alerts every 10 seconds
    {alert_thresholds, [
      %% Memory alerts
      {high_memory_usage, 0.9},            %% 90% of max heap
      {critical_memory_usage, 0.95},       %% 95% of max heap

      %% Error rate alerts
      {high_error_rate, 100},              %% > 100 errors
      {critical_error_rate, 1000},         %% > 1000 errors

      %% Message queue depth alerts
      {high_queue_depth, 500},             %% Average queue depth > 500
      {critical_queue_depth, 1000},        %% Average queue depth > 1000

      %% Process count alerts
      {low_process_count, 100},            %% < 100 processes (critical)

      %% Latency alerts
      {high_latency_p99, 500},             %% P99 latency > 500ms
      {high_latency_p95, 300}              %% P95 latency > 300ms
    ]},

    %% Slack Notifications (optional)
    {slack_webhook_url, "https://hooks.slack.com/services/YOUR/WEBHOOK/URL"},
    {slack_enabled, false},                %% Set to true to enable

    %% PagerDuty Integration (optional)
    {pagerduty_api_key, "your-api-key"},
    {pagerduty_enabled, false},            %% Set to true to enable
    {pagerduty_service_key, "your-service-key"},

    %% Observer UI Configuration
    {observer_dump_dir, "./observer_dumps"},
    {observer_dump_interval, 300000},      %% Export every 5 minutes

    %% General Configuration
    {log_level, info},
    {timezone, "UTC"},
    {environment, production}               %% development or production
  ]},

  %% Kernel Configuration
  {kernel, [
    %% Enable distributed Erlang
    {distributed, [
      {observability, 5000, [
        'node1@localhost',
        'node2@localhost',
        'node3@localhost'
      ]}
    ]},

    %% Error logger configuration
    {error_logger_mf_dir, "./log"},
    {error_logger_mf_maxbytes, 10485760}, %% 10MB per file
    {error_logger_mf_maxfiles, 10}        %% Keep 10 files
  ]},

  %% SASL Configuration
  {sasl, [
    {sasl_error_logger, {file, "./log/sasl.log"}},
    {errlog_type, error},
    {error_logger_mf_dir, "./log"},
    {error_logger_mf_maxbytes, 10485760},
    {error_logger_mf_maxfiles, 10}
  ]},

  %% Observers configuration
  {observer, [
    {remember_env, false}
  ]}
].
