[
  %% -------------------------------------------------------------------
  %% Erlang Autonomics Configuration
  %% Generated for: GCP Cloud Run / GKE Deployment
  %% -------------------------------------------------------------------

  {kernel, [
    %% Logging
    {logger_level, info},
    {logger_sasl_compatible, true},

    %% Networking
    {net_ticktime, 60},
    {inet_default_connect_options, [{nodelay, true}]},

    %% Distribution (Erlang clustering)
    {inet_dist_listen_min, 9000},
    {inet_dist_listen_max, 9100}
  ]},

  {sasl, [
    {sasl_error_logger, tty},
    {errlog_type, error},
    {error_logger_mf_dir, "/var/log/erlang"},
    {error_logger_mf_maxbytes, 10485760},
    {error_logger_mf_maxfiles, 5}
  ]},

  %% -------------------------------------------------------------------
  %% Erlang Autonomics Marketplace Governors
  %% -------------------------------------------------------------------

  {erlang_autonomics, [
    %% GCP Configuration
    {gcp_project_id, "ggen-autonomics"},
    {gcp_region, "us-central1"},
    {gcp_zone, "us-central1-c"},

    %% Pub/Sub Configuration
    {pubsub_subscription, "erlang-autonomics-signals"},
    {pubsub_ack_deadline, 60},
    {pubsub_retention_duration, 604800},  %% 7 days
    {pubsub_batch_size, 100},
    {pubsub_batch_timeout_ms, 1000},

    %% Signal Ingest (normalized event intake)
    {signal_ingest_workers, 3},
    {signal_ingest_queue_size, 10000},
    {signal_ingest_timeout_ms, 5000},

    %% Governor FSM (autonomic control loops)
    {governor_batch_size, 100},
    {governor_state_timeout_ms, 60000},
    {governor_max_concurrent, 10000},

    %% Receipt Ledger (cryptographic audit trail)
    {receipt_ledger_backend, ets},  %% ets | gcs | bigquery
    {receipt_ledger_max_entries, 100000},
    {receipt_ledger_persist_interval_ms, 30000},
    {receipt_gcs_bucket, "erlang-autonomics-receipts"},

    %% Entitlement Management (marketplace contracts)
    {entitlement_grace_period_days, 7},
    {entitlement_suspension_grace_days, 14},
    {entitlement_auto_resume_on_payment, true},

    %% Monitoring & Observability
    {metrics_collection_interval_ms, 10000},
    {metrics_export_interval_ms, 60000},
    {tracing_enabled, true},
    {tracing_sample_rate, 0.1},
    {alerting_enabled, true},

    %% Clustering (multi-node failover)
    {clustering_strategy, heartbeat},  %% heartbeat | gossip
    {clustering_heartbeat_interval_ms, 5000},
    {clustering_max_nodes, 20},
    {clustering_auto_discovery_enabled, true},

    %% Security
    {tls_enabled, true},
    {tls_cert_file, "/etc/secrets/tls.crt"},
    {tls_key_file, "/etc/secrets/tls.key"},
    {api_key_validation_enabled, true},

    %% Performance Tuning
    {connection_pool_size, 50},
    {connection_timeout_ms, 30000},
    {request_timeout_ms, 60000},
    {max_retries, 3},
    {retry_backoff_ms, 1000},

    %% Development/Debug
    {debug_mode, false},
    {verbose_logging, false}
  ]},

  %% -------------------------------------------------------------------
  %% Per-SKU Governor Configuration
  %% -------------------------------------------------------------------

  %% Cost Circuit Breaker (CCB)
  {cost_guard_governor, [
    {sku_id, "gcp.autonomic.cost_guard.v1"},
    {product_name, "Cost Circuit Breaker"},
    {version, "1.0.0"},
    {enabled, true},
    {default_profile, standard}
  ]},

  %% Deploy Rollback Guard (DRG)
  {rollback_guard_governor, [
    {sku_id, "gcp.autonomic.rollback_guard.v1"},
    {product_name, "Deploy Rollback Guard"},
    {version, "1.0.0"},
    {enabled, true},
    {default_profile, standard}
  ]},

  %% Backlog Pressure Valve (BPV)
  {backlog_valve_governor, [
    {sku_id, "gcp.autonomic.backlog_valve.v1"},
    {product_name, "Backlog Pressure Valve"},
    {version, "1.0.0"},
    {enabled, true},
    {default_profile, standard}
  ]}
].
