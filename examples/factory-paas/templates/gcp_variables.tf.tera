# Generated GCP Variables - DO NOT EDIT
#
# This file is automatically generated by ggen from ontology/infra.ttl
# To make changes, edit the ontology and run: ggen sync

variable "project_id" {
  description = "GCP project ID"
  type        = string
}

variable "region" {
  description = "GCP region for resources"
  type        = string
  default     = "us-central1"
}

variable "environment" {
  description = "Environment name (dev, staging, prod)"
  type        = string
  default     = "prod"

  validation {
    condition     = contains(["dev", "staging", "prod"], var.environment)
    error_message = "Environment must be one of: dev, staging, prod"
  }
}

variable "alert_email" {
  description = "Email address for monitoring alerts"
  type        = string
}

variable "slack_channel" {
  description = "Slack channel name for notifications"
  type        = string
  default     = "#alerts"
}

variable "slack_webhook_url" {
  description = "Slack webhook URL for notifications"
  type        = string
  sensitive   = true
}

variable "enforce_org_policies" {
  description = "Whether to enforce organization policies"
  type        = bool
  default     = false
}

variable "domain_name" {
  description = "Custom domain name for the service"
  type        = string
  default     = "attribution.example.com"
}

variable "enable_cdn" {
  description = "Enable Cloud CDN for static content"
  type        = bool
  default     = true
}

variable "enable_high_availability" {
  description = "Enable high availability with regional Cloud SQL"
  type        = bool
  default     = true
}

variable "min_cloud_run_instances" {
  description = "Minimum number of Cloud Run instances"
  type        = number
  default     = 1

  validation {
    condition     = var.min_cloud_run_instances >= 0 && var.min_cloud_run_instances <= 1000
    error_message = "min_cloud_run_instances must be between 0 and 1000"
  }
}

variable "max_cloud_run_instances" {
  description = "Maximum number of Cloud Run instances"
  type        = number
  default     = 10

  validation {
    condition     = var.max_cloud_run_instances >= 1 && var.max_cloud_run_instances <= 1000
    error_message = "max_cloud_run_instances must be between 1 and 1000"
  }
}

variable "cloud_run_cpu" {
  description = "CPU allocation for Cloud Run (1, 2, 4, 6, 8)"
  type        = string
  default     = "2"

  validation {
    condition     = contains(["1", "2", "4", "6", "8"], var.cloud_run_cpu)
    error_message = "cloud_run_cpu must be one of: 1, 2, 4, 6, 8"
  }
}

variable "cloud_run_memory" {
  description = "Memory allocation for Cloud Run (512Mi, 1Gi, 2Gi, 4Gi, 8Gi, 16Gi, 32Gi)"
  type        = string
  default     = "2Gi"

  validation {
    condition     = contains(["512Mi", "1Gi", "2Gi", "4Gi", "8Gi", "16Gi", "32Gi"], var.cloud_run_memory)
    error_message = "cloud_run_memory must be valid Cloud Run memory size"
  }
}

variable "cloud_run_timeout" {
  description = "Request timeout for Cloud Run in seconds"
  type        = number
  default     = 300

  validation {
    condition     = var.cloud_run_timeout >= 1 && var.cloud_run_timeout <= 3600
    error_message = "cloud_run_timeout must be between 1 and 3600 seconds"
  }
}

variable "cloud_run_concurrency" {
  description = "Maximum concurrent requests per Cloud Run instance"
  type        = number
  default     = 80

  validation {
    condition     = var.cloud_run_concurrency >= 1 && var.cloud_run_concurrency <= 1000
    error_message = "cloud_run_concurrency must be between 1 and 1000"
  }
}

variable "cloudsql_tier" {
  description = "Cloud SQL instance tier"
  type        = string
  default     = "db-custom-2-7680"
}

variable "cloudsql_disk_size" {
  description = "Cloud SQL disk size in GB"
  type        = number
  default     = 100

  validation {
    condition     = var.cloudsql_disk_size >= 10 && var.cloudsql_disk_size <= 65536
    error_message = "cloudsql_disk_size must be between 10 and 65536 GB"
  }
}

variable "cloudsql_backup_retention_days" {
  description = "Number of days to retain Cloud SQL backups"
  type        = number
  default     = 30

  validation {
    condition     = var.cloudsql_backup_retention_days >= 1 && var.cloudsql_backup_retention_days <= 365
    error_message = "cloudsql_backup_retention_days must be between 1 and 365"
  }
}

variable "enable_cloudsql_replica" {
  description = "Enable Cloud SQL read replica for analytics"
  type        = bool
  default     = true
}

variable "cloudsql_replica_region" {
  description = "Region for Cloud SQL read replica (geo-redundancy)"
  type        = string
  default     = "us-east1"
}

variable "storage_location" {
  description = "Multi-region location for Cloud Storage buckets"
  type        = string
  default     = "US"

  validation {
    condition     = contains(["US", "EU", "ASIA"], var.storage_location)
    error_message = "storage_location must be one of: US, EU, ASIA"
  }
}

variable "log_retention_days" {
  description = "Number of days to retain logs in Cloud Storage"
  type        = number
  default     = 365

  validation {
    condition     = var.log_retention_days >= 1 && var.log_retention_days <= 3650
    error_message = "log_retention_days must be between 1 and 3650"
  }
}

variable "enable_binary_authorization" {
  description = "Enable Binary Authorization for container image verification"
  type        = bool
  default     = true
}

variable "enable_vpc_flow_logs" {
  description = "Enable VPC Flow Logs for network analysis"
  type        = bool
  default     = true
}

variable "tags" {
  description = "Common tags to apply to all resources"
  type        = map(string)
  default = {
    managed_by  = "terraform"
    project     = "attribution-service"
    environment = "production"
  }
}
