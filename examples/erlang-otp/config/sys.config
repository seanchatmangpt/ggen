%% -*- erlang -*-
%% System configuration for Telecom OTP application

[
 {telecom, [
     {call_router, [
         {load_threshold, 150000},
         {circuit_breaker, true},
         {circuit_breaker_threshold, 0.5},
         {circuit_breaker_window, 60000}
     ]},

     {billing_engine, [
         {fraud_threshold, 15000.00},
         {wal_file, "data/billing_wal.dets"},
         {audit_file, "data/billing_audit.dets"}
     ]},

     {db_pool, [
         {pool_size, 20},
         {health_check_interval, 30000}
     ]}
 ]},

 {lager, [
     {log_root, "log"},
     {handlers, [
         {lager_console_backend, [
             {level, info},
             {formatter, lager_default_formatter},
             {formatter_config, [
                 time, " [", severity, "] ",
                 {pid, ""},
                 " ", message, "\n"
             ]}
         ]},
         {lager_file_backend, [
             {file, "error.log"},
             {level, error},
             {size, 10485760},
             {date, "$D0"},
             {count, 5}
         ]},
         {lager_file_backend, [
             {file, "console.log"},
             {level, info},
             {size, 10485760},
             {date, "$D0"},
             {count, 5}
         ]}
     ]},
     {crash_log, "crash.log"},
     {crash_log_msg_size, 65536},
     {crash_log_size, 10485760},
     {crash_log_date, "$D0"},
     {crash_log_count, 5},
     {error_logger_redirect, true},
     {error_logger_hwm, 50}
 ]},

 {sasl, [
     {sasl_error_logger, {file, "log/sasl-error.log"}},
     {errlog_type, error},
     {error_logger_mf_dir, "log/sasl"},
     {error_logger_mf_maxbytes, 10485760},
     {error_logger_mf_maxfiles, 5}
 ]}
].
