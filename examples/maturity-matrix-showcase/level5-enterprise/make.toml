[project]
name = "maturity-matrix-level5"
version = "1.0.0"

[lifecycle.init]
description = "Initialize enterprise project"
commands = [
    "mkdir -p generated/{tenants,services,infrastructure,monitoring}",
    "echo 'Enterprise project initialized'"
]

[lifecycle.generate]
description = "Distributed generation across tenants"
commands = [
    "ggen graph load ontologies/shared/core.ttl",
    "ggen graph load ontologies/shared/services.ttl",
    "ggen template generate templates/ --distributed --workers 10 --monitor"
]
depends_on = ["init"]
cache = true

[lifecycle.build]
description = "Distributed build across workspaces"
commands = [
    "cd generated && cargo build --workspace -j 20"
]
depends_on = ["generate"]
cache = true

[lifecycle.test]
description = "Comprehensive test suite with coverage"
commands = [
    "cd generated && cargo test --workspace --no-fail-fast",
    "cd generated && cargo test --workspace --all-features"
]
depends_on = ["build"]
cache = true

[lifecycle.deploy]
description = "Enterprise deployment with monitoring"
commands = [
    "cd generated && cargo build --release --workspace",
    "scripts/deploy/enterprise-deploy.sh",
    "monitoring/start-monitoring.sh"
]
depends_on = ["test"]
cache = false

[execution]
max_parallel_phases = 10
timeout_seconds = 3600

[cache]
enable_caching = true
cache_directory = ".ggen/cache"
cache_ttl_seconds = 7200
invalidate_on_change = true
distributed_cache = true

[monitoring]
enable_metrics = true
metrics_endpoint = "http://localhost:9090/metrics"
enable_tracing = true
trace_endpoint = "http://localhost:4317"

