{
  "permissions": {
    "allow": [
      "Read",
      "Edit",
      "Write",
      "Glob",
      "Grep",
      "Bash(cargo make:*)",
      "Bash(git:*)",
      "Bash(cargo add:*)",
      "Task"
    ],
    "deny": [
      ".env",
      "secrets.json",
      "*.pem",
      "private_keys/",
      ".anthropic/",
      ".github/workflows/secrets.yml"
    ],
    "ask": [
      "Bash(rm:*)",
      "Bash(mv:*)",
      "Bash(force-push:*)"
    ],
    "additional_directories": [
      "docs/",
      "benches/",
      ".specify/"
    ],
    "default_mode": "allow"
  },
  "hooks": {
    "SessionStart": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "./.claude/hooks/session-start.sh",
            "timeout": 30
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "./.claude/hooks/pre-tool-safety-check.sh",
            "timeout": 10
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "./.claude/hooks/post-bash-validation.sh",
            "timeout": 5
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Before stopping, verify: Did all tests pass (cargo make test)? Did cargo make lint succeed? Are there uncommitted changes? If issues exist, respond with reasoning on what should be fixed.",
            "timeout": 30
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "./.claude/hooks/user-prompt-validation.sh",
            "timeout": 5
          },
          {
            "type": "command",
            "command": "./.claude/hooks/pre-specification-check.sh",
            "timeout": 10
          }
        ]
      }
    ],
    "PostTask": [
      {
        "matcher": "collision",
        "hooks": [
          {
            "type": "command",
            "command": "./.claude/hooks/post-collision-detection.sh",
            "timeout": 30
          }
        ]
      },
      {
        "matcher": "convergence",
        "hooks": [
          {
            "type": "command",
            "command": "./.claude/hooks/convergence-validation.sh",
            "timeout": 30
          }
        ]
      }
    ]
  },
  "environment": {
    "env": {
      "RUST_BACKTRACE": "1",
      "RUST_LOG": "info",
      "CARGO_TERM_COLOR": "always",
      "NODE_ENV": "development"
    },
    "api_key_helper": "./.claude/helpers/api-key-helper.sh"
  },
  "tools_and_model": {
    "model": "claude-haiku-4-5-20251001",
    "output_style": "structured"
  },
  "status_line": {
    "enabled": true,
    "format": "ggen:${branch} | ${crate_count} crates | SLO ✓"
  },
  "plugins": {
    "enabled_plugins": [
      "rust-analyzer",
      "cargo-clippy",
      "test-runner"
    ]
  },
  "project_metadata": {
    "name": "ggen",
    "version": "5.0.2",
    "description": "Language-agnostic, deterministic code generation CLI. Ontologies + RDF → reproducible code projections.",
    "philosophy": "Type-first thinking, zero-cost abstractions, memory safety, deterministic outputs",
    "required_reading": "Read CLAUDE.md before starting work"
  },
  "execution_model": {
    "paradigm": "parallel-first",
    "specification_required": true,
    "default_task_type": "non-trivial",
    "trivial_task_whitelist": [
      "single_file_read",
      "run_existing_script",
      "display_help",
      "factual_question"
    ]
  },
  "epic9": {
    "enabled": true,
    "description": "Atomic Cognitive Cycle: Fan-Out → Independent Construction → Collision Detection → Convergence → Refactoring → Closure",
    "default_agents": 10,
    "collision_detection": "required",
    "convergence_method": "selection_pressure",
    "mandatory_phases": [
      "fan_out",
      "independent_construction",
      "collision_detection",
      "convergence",
      "refactoring",
      "closure"
    ],
    "failure_on_incomplete": true
  },
  "big_bang_80_20": {
    "enabled": true,
    "description": "Single-pass construction in low-entropy domains",
    "specification_closure_required": true,
    "iteration_signal_defect": true,
    "monoidal_composition": true
  },
  "deterministic_validation": {
    "enabled": true,
    "description": "Evidence-first validation: receipts replace review, benchmarks replace narratives",
    "required_receipts": [
      "compilation_success",
      "all_tests_pass",
      "lint_clean",
      "slo_compliance",
      "no_warnings"
    ]
  }
}
