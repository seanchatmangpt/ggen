# Security-focused Clippy configuration for ggen
# Place this in .cargo/config.toml or use via: cargo clippy --config clippy-security.toml

[lints.clippy]
# DENY: Critical security issues
unwrap_used = "deny"
expect_used = "deny"
panic = "deny"
unreachable = "deny"
todo = "deny"
unimplemented = "deny"

# DENY: Unsafe code
undocumented_unsafe_blocks = "deny"
multiple_unsafe_ops_per_block = "deny"

# WARN: Potential security issues
indexing_slicing = "warn"
integer_arithmetic = "warn"
lossy_float_literal = "warn"
string_slice = "warn"

# WARN: Error handling
result_unit_err = "warn"
missing_errors_doc = "warn"
try_err = "warn"

# WARN: Input validation
wildcard_enum_match_arm = "warn"
match_wild_err_arm = "warn"

# ALLOW: Test code exceptions
unwrap_in_tests = "allow"

[profile.release]
# Security-hardened release profile
overflow-checks = true
lto = "fat"
strip = true
panic = "abort"
