[package]
name = "ggen-ai"
version = "0.2.0"
edition = "2021"
authors = ["Sean Chatman <sean@chatmangpt.com>"]
description = "Thin wrapper around genai for ggen - LLM integration with environment support"
license = "MIT"
repository = "https://github.com/seanchatmangpt/ggen"
homepage = "https://github.com/seanchatmangpt/ggen"
keywords = ["cli", "code-generation", "rdf", "templates", "llm"]
categories = ["development-tools", "command-line-utilities"]

[dependencies]
# Core ggen dependencies (use workspace = true pattern)
ggen-core.workspace = true
ggen-utils.workspace = true

# HTTP client and async runtime
tokio = { workspace = true }
async-trait = { workspace = true }
reqwest = { workspace = true }

# Serialization
serde = { workspace = true }
serde_json = { workspace = true }

# Time handling
chrono = { workspace = true }

# UUID generation
uuid = { workspace = true }

# Note: SQLite database access moved to optional feature due to conflicts with sqlx v0.7
# ggen-ai focuses on LLM integration; database operations belong in domain/api layers

# Configuration and environment
dotenvy = "0.15"

# Error handling
thiserror = { workspace = true }

# Streaming and futures
futures = { workspace = true }

# Logging
tracing = { workspace = true }
tracing-subscriber = { workspace = true }

# Template engine (for prompt templating in generators)
tera = { workspace = true }

# Regular expressions for validation
regex = { workspace = true }

# Multi-provider AI client
genai = { workspace = true }

# Thread-safe lazy initialization for global registry
once_cell = "1.19"

# Optional A2A Protocol support (using generated code)
a2a-generated = { path = "../a2a-generated", optional = true, default-features = false }

# LLM Response Caching
moka = { version = "0.12", features = ["future"] }

# SPARQL support
oxigraph = "0.5"

# Crypto for caching
sha2 = "0.10"

# Random number generation for dspy optimizers
rand = "0.9"

# CSV export for evaluation results
csv = "1.4"

# Pretty table display for evaluation results
prettytable-rs = "0.10"

# Progress bars for long-running operations
indicatif = { version = "0.17", features = ["in_memory", "rayon"] }

[features]
default = []
all-integrations = []
use-a2a-rs = ["a2a-generated"]  # Use generated a2a code

[dev-dependencies]
tokio-test = "0.4"
tempfile = "3"
testcontainers = "0.25"
rand = "0.9"
chicago-tdd-tools = { version = "1.4.0", features = ["testing-extras"] }
criterion = { version = "0.7", features = ["html_reports"] }

[[bench]]
name = "swarm_coordination"
harness = false

[lib]
name = "ggen_ai"
path = "src/lib.rs"
