[package]
name = "ggen-marketplace"
version = "3.4.1"
edition = "2021"
authors = ["Sean Chatman <sean@chatmangpt.com>"]
description = "Next-generation marketplace system for ggen using hyper-advanced Rust patterns"
license = "MIT"
repository = "https://github.com/seanchatmangpt/ggen"
homepage = "https://github.com/seanchatmangpt/ggen"
readme = "README.md"
keywords = ["marketplace", "rdf", "semantic", "packages"]
categories = ["development-tools"]

[dependencies]
# Async runtime
tokio = { workspace = true }

# Serialization
serde = { workspace = true }
serde_json = { workspace = true }

# Error handling
thiserror = { workspace = true }
anyhow = { workspace = true }

# Observability
tracing = { workspace = true }
tracing-subscriber = { workspace = true }

# Utilities
async-trait = { workspace = true }
futures = { workspace = true }
futures-util = { workspace = true }
chrono = { workspace = true }
uuid = { workspace = true }

# RDF & Semantic Data (Primary Data Store)
oxigraph = { workspace = true }      # RDF triplestore (knowledge graph backend)

# Advanced data structures
parking_lot = "0.12"                 # Fast locks
rayon = { workspace = true }          # Data parallelism
smallvec = "1.11"                    # Stack-allocated vectors
tinyvec = "1.6"                      # Tiny vectors
indexmap = { version = "2.0", features = ["serde"] }  # Ordered hash maps with serde
ahash = "0.8"                        # Fast hashing
dashmap = "5.5"                      # Concurrent hash maps for metrics/events
lru = "0.16"                         # LRU cache

# Cryptography & security
ed25519-dalek = "2.1"                # Ed25519 signatures
sha2 = "0.10"                        # SHA-256
hex = "0.4"                          # Hex encoding
rand = "0.8"                         # Random number generation

# High-performance search & indexing
fst = "0.4"                          # Finite state transducers

# Builder pattern & ergonomics
typed-builder = "0.18"               # Type-safe builders

# Validation
serde_derive = "1.0"

# HTTP/REST (for future API implementation)
hyper = { version = "1.0", features = ["full"] }
axum = "0.7"
http = "1.0"
tower = "0.4"
tower-http = { version = "0.5", features = ["cors", "trace"] }

# Configuration
toml = { workspace = true }
config = "0.14"

# Testing utilities
proptest = { workspace = true }
arbitrary = { version = "1.3", features = ["derive"] }

# Iteration helpers
itertools = "0.12"

# Memory efficiency
compact_str = "0.7"                  # Memory-efficient strings
bytes = "1.5"

# Rate limiting & caching
moka = { version = "0.12", features = ["future"] }
instant = "0.1"

[dev-dependencies]
tokio = { workspace = true, features = ["full"] }
criterion = { version = "0.7", features = ["html_reports", "async_tokio"] }
proptest = { workspace = true }
mockall = "0.13"
rand = "0.8"
tempfile = "3.23"

[[bench]]
name = "comprehensive_performance"
harness = false

[[bench]]
name = "v1_vs_v2_comparison"
harness = false

[[bench]]
name = "slo_validation"
harness = false

[[bench]]
name = "marketplace_load_test"
harness = false

# Unit tests
[[test]]
name = "poka_yoke_types_test"
path = "tests/unit/poka_yoke_types_test.rs"

[[test]]
name = "rdf_turtle_test"
path = "tests/unit/rdf_turtle_test.rs"

[[test]]
name = "sparql_operations_test"
path = "tests/unit/sparql_operations_test.rs"

# Phase 3A: Comprehensive Unit Tests (Chicago TDD)
[[test]]
name = "84_marketplace_core_unit"
path = "tests/unit/84_marketplace_core_unit.rs"

[[test]]
name = "85_marketplace_registry_unit"
path = "tests/unit/85_marketplace_registry_unit.rs"

[[test]]
name = "86_marketplace_search_unit"
path = "tests/unit/86_marketplace_search_unit.rs"

[[test]]
name = "87_marketplace_install_unit"
path = "tests/unit/87_marketplace_install_unit.rs"

[[test]]
name = "88_marketplace_security_unit"
path = "tests/unit/88_marketplace_security_unit.rs"

# Phase 3B: Integration tests
[[test]]
name = "marketplace_integration"
path = "tests/89_marketplace_integration.rs"

# Phase 3C: Property-based tests
[[test]]
name = "marketplace_property_based"
path = "tests/90_marketplace_property_based.rs"
