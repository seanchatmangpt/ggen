[package]
name = "ggen-marketplace"
version = "5.0.2"
edition = "2021"
authors = ["Sean Chatman <sean@chatmangpt.com>"]
description = "Next-generation marketplace system for ggen using hyper-advanced Rust patterns"
license = "MIT"
repository = "https://github.com/seanchatmangpt/ggen"
homepage = "https://github.com/seanchatmangpt/ggen"
readme = "README.md"
keywords = ["marketplace", "rdf", "semantic", "packages"]
categories = ["development-tools"]

[dependencies]
# =============================================================================
# GPACK DEPENDENCIES (Feature 014-marketplace-gpack)
# =============================================================================
# These dependencies support the gpack distribution format:
# - tokio: Async runtime for network operations
# - reqwest: HTTP client for crates.io API
# - serde/toml/yaml: Manifest parsing and serialization
# - oxigraph: RDF-based package metadata
# - sha2/ed25519-dalek: Cryptographic verification (FMEA: FM001, FM002)
# - semver: Version constraint resolution
# - tempfile: Cache management
# =============================================================================

# Async runtime (gpack: async package fetching, parallel resolution)
tokio = { workspace = true }

# Serialization (gpack: manifest parsing, lockfile generation)
serde = { workspace = true }
serde_json = { workspace = true }

# Error handling
thiserror = { workspace = true }
anyhow = { workspace = true }

# Observability
tracing = { workspace = true }
tracing-subscriber = { workspace = true }

# Utilities
async-trait = { workspace = true }
futures = { workspace = true }
futures-util = { workspace = true }
chrono = { workspace = true }
uuid = { workspace = true }

# RDF & Semantic Data (Primary Data Store)
oxigraph = { workspace = true }      # RDF triplestore (knowledge graph backend)

# Advanced data structures
parking_lot = "0.12"                 # Fast locks
rayon = { workspace = true }          # Data parallelism
smallvec = "1.11"                    # Stack-allocated vectors
tinyvec = "1.6"                      # Tiny vectors
indexmap = { version = "2.0", features = ["serde"] }  # Ordered hash maps with serde
ahash = "0.8"                        # Fast hashing
dashmap = "5.5"                      # Concurrent hash maps for metrics/events
lru = "0.16"                         # LRU cache

# Cryptography & security (gpack: FM002 signature verification, FM001 checksum)
ed25519-dalek = "2.1"                # Ed25519 signatures for package signing
sha2 = "0.10"                        # SHA-256 checksums for integrity verification
hex = "0.4"                          # Hex encoding for checksum display
rand = "0.8"                         # Random number generation

# Version management (gpack: dependency resolution, manifest parsing)
semver = "1.0"                       # Semantic versioning for version constraints

# High-performance search & indexing
fst = "0.4"                          # Finite state transducers

# Builder pattern & ergonomics
typed-builder = "0.18"               # Type-safe builders

# Validation
serde_derive = "1.0"

# HTTP/REST (gpack: crates.io client, package download)
hyper = { version = "1.0", features = ["full"] }
axum = "0.7"
http = "1.0"
tower = "0.4"
tower-http = { version = "0.5", features = ["cors", "trace"] }
reqwest = { workspace = true }       # HTTP client for crates.io API

# Configuration
toml = { workspace = true }
serde_yaml = { workspace = true }
config = "0.14"

# Testing utilities
proptest = { workspace = true }
arbitrary = { version = "1.3", features = ["derive"] }

# Iteration helpers
itertools = "0.12"

# Memory efficiency
compact_str = "0.7"                  # Memory-efficient strings
bytes = "1.5"

# Rate limiting & caching
moka = { version = "0.12", features = ["future"] }
instant = "0.1"

# System utilities (gpack: cache directories, user info for audit)
dirs = "5.0"                          # Platform-specific directories (~/.ggen/cache)
whoami = "1.5"                        # Username for audit records

# Temporary files (gpack: cache testing, installation temp dirs)
tempfile = "3.23"

[dev-dependencies]
tokio = { workspace = true, features = ["full"] }
criterion = { version = "0.7", features = ["html_reports", "async_tokio"] }
proptest = { workspace = true }
mockall = "0.13"
rand = "0.8"
tempfile = "3.23"

[[bench]]
name = "comprehensive_performance"
harness = false

[[bench]]
name = "v1_vs_v2_comparison"
harness = false

[[bench]]
name = "slo_validation"
harness = false

[[bench]]
name = "marketplace_load_test"
harness = false

# NOTE: Test declarations archived - tests live in src/ as inline #[test] modules
