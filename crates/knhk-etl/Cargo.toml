[package]
name = "knhk-etl"
version = "0.1.0"
edition = "2021"

[lib]
crate-type = ["cdylib", "staticlib"]

[dependencies]
knhk-connectors = { workspace = true }
knhk-hot = { workspace = true, optional = true }
knhk-lockchain = { workspace = true }
knhk-otel = { workspace = true, optional = true }
hashbrown = { version = "0.15", default-features = false }
hex = { workspace = true }
rio_turtle = { version = "0.8.5", default-features = false }
rio_api = { version = "0.8.5", default-features = false }
# Optional dependencies cannot use workspace = true (Cargo limitation)
# Using explicit versions from workspace
reqwest = { version = "0.12", features = ["blocking", "json", "rustls-tls"], optional = true }
rdkafka = { version = "0.36", optional = true }
serde_json = { version = "1.0", optional = true }
tokio = { workspace = true }
tracing = { workspace = true }

[features]
default = []
std = [
  "reqwest",
  "serde_json",
  "knhk-hot",
  "knhk-otel",
  "knhk-lockchain/std",
]
kafka = ["std", "rdkafka"]
grpc = ["std"]

[dev-dependencies]
# Test dependencies
