{
  "self_healing_framework": {
    "version": "1.0.0",
    "enabled": true,
    "last_updated": "2025-10-10T07:29:00Z"
  },

  "health_monitoring": {
    "agent_health_check": {
      "enabled": true,
      "interval_seconds": 10,
      "timeout_seconds": 30,
      "retry_attempts": 3,
      "exponential_backoff": true,
      "backoff_multiplier": 2
    },

    "task_progress_monitoring": {
      "enabled": true,
      "interval_seconds": 30,
      "stall_detection_multiplier": 2,
      "progress_indicators": [
        "file_modifications",
        "memory_updates",
        "status_reports",
        "log_entries"
      ]
    },

    "resource_monitoring": {
      "enabled": true,
      "continuous": true,
      "thresholds": {
        "memory_percentage": 85,
        "cpu_percentage": 90,
        "disk_percentage": 80
      }
    },

    "network_connectivity": {
      "enabled": true,
      "interval_seconds": 5,
      "timeout_seconds": 3
    }
  },

  "failure_detection": {
    "agent_crash": {
      "detection_method": "health_check_timeout",
      "timeout_seconds": 30,
      "confirmation_required": true,
      "false_positive_prevention": "verify_process_status"
    },

    "task_stall": {
      "detection_method": "progress_timeout",
      "threshold_multiplier": 2.0,
      "indicators": [
        "no_file_changes",
        "no_memory_updates",
        "no_status_changes"
      ]
    },

    "resource_exhaustion": {
      "detection_method": "threshold_monitoring",
      "critical_thresholds": {
        "memory": 0.95,
        "cpu": 0.95,
        "disk": 0.90
      },
      "warning_thresholds": {
        "memory": 0.85,
        "cpu": 0.85,
        "disk": 0.80
      }
    },

    "network_failure": {
      "detection_method": "connectivity_check",
      "timeout_seconds": 5,
      "max_consecutive_failures": 3
    }
  },

  "recovery_procedures": {
    "agent_crash_recovery": {
      "enabled": true,
      "automatic": true,
      "steps": [
        {
          "step": 1,
          "action": "mark_agent_as_failed",
          "log_event": true,
          "notify": true
        },
        {
          "step": 2,
          "action": "capture_agent_state",
          "save_location": "swarm/recovery/agent_states"
        },
        {
          "step": 3,
          "action": "reassign_pending_tasks",
          "strategy": "capability_based_matching"
        },
        {
          "step": 4,
          "action": "spawn_replacement_agent",
          "same_type": true,
          "restore_state": true
        },
        {
          "step": 5,
          "action": "verify_recovery",
          "health_check": true,
          "timeout_seconds": 60
        }
      ],
      "recovery_time_target_seconds": 60,
      "success_rate": 0.92
    },

    "task_stall_recovery": {
      "enabled": true,
      "automatic": true,
      "steps": [
        {
          "step": 1,
          "action": "send_interrupt_signal",
          "signal": "SIGTERM",
          "timeout_seconds": 10
        },
        {
          "step": 2,
          "action": "capture_task_state",
          "save_location": "swarm/recovery/task_states"
        },
        {
          "step": 3,
          "action": "terminate_stalled_task",
          "force": false,
          "grace_period_seconds": 30
        },
        {
          "step": 4,
          "action": "retry_with_fresh_agent",
          "different_agent_preferred": true,
          "restore_partial_progress": true
        },
        {
          "step": 5,
          "action": "monitor_retry",
          "enhanced_monitoring": true
        }
      ],
      "max_retries": 3,
      "retry_delay_seconds": 5,
      "escalate_after_max_retries": true
    },

    "resource_exhaustion_recovery": {
      "enabled": true,
      "automatic": true,
      "steps": [
        {
          "step": 1,
          "action": "identify_resource_hogs",
          "analyze_top_consumers": true
        },
        {
          "step": 2,
          "action": "pause_non_critical_tasks",
          "priority_threshold": "medium"
        },
        {
          "step": 3,
          "action": "trigger_garbage_collection",
          "aggressive": true
        },
        {
          "step": 4,
          "action": "scale_up_resources",
          "auto_scale": true,
          "target_buffer": 0.30
        },
        {
          "step": 5,
          "action": "resume_paused_tasks",
          "verify_resources_available": true
        }
      ],
      "auto_scale_enabled": true,
      "scale_factor": 1.5
    },

    "network_failure_recovery": {
      "enabled": true,
      "automatic": true,
      "steps": [
        {
          "step": 1,
          "action": "verify_network_partition",
          "ping_multiple_endpoints": true
        },
        {
          "step": 2,
          "action": "switch_to_offline_mode",
          "cache_operations": true
        },
        {
          "step": 3,
          "action": "retry_with_backoff",
          "exponential_backoff": true,
          "max_attempts": 5
        },
        {
          "step": 4,
          "action": "sync_when_reconnected",
          "conflict_resolution": "last_write_wins"
        }
      ],
      "offline_mode_supported": true
    }
  },

  "escalation_protocol": {
    "level_1_auto_resolution": {
      "enabled": true,
      "actions": [
        "agent_restarts",
        "task_retries",
        "load_rebalancing",
        "resource_cleanup"
      ],
      "success_rate_target": 0.90,
      "max_duration_seconds": 300
    },

    "level_2_coordinator_intervention": {
      "enabled": true,
      "triggers": [
        "level_1_failure",
        "repeated_failures",
        "critical_task_failure"
      ],
      "actions": [
        "topology_adjustment",
        "strategy_modification",
        "resource_reallocation",
        "priority_reordering"
      ],
      "notify_channels": [
        "memory_log",
        "coordination_system"
      ]
    },

    "level_3_human_notification": {
      "enabled": true,
      "triggers": [
        "persistent_failures_3_plus_retries",
        "system_wide_performance_degradation_over_50_percent",
        "security_safety_concerns",
        "data_corruption_detected"
      ],
      "notification_methods": [
        "log_critical_alert",
        "memory_urgent_flag",
        "status_report_generation"
      ],
      "require_human_approval": [
        "topology_major_changes",
        "agent_scaling_beyond_limits",
        "security_incidents"
      ]
    }
  },

  "retry_policies": {
    "default_retry_policy": {
      "enabled": true,
      "max_retries": 3,
      "initial_delay_seconds": 5,
      "delay_multiplier": 2,
      "max_delay_seconds": 60,
      "retry_on": [
        "network_errors",
        "timeout_errors",
        "resource_unavailable"
      ],
      "do_not_retry_on": [
        "authentication_errors",
        "permission_errors",
        "validation_errors"
      ]
    },

    "critical_task_retry_policy": {
      "enabled": true,
      "max_retries": 5,
      "initial_delay_seconds": 2,
      "delay_multiplier": 1.5,
      "max_delay_seconds": 30,
      "priority_boost": true,
      "dedicated_resources": true
    },

    "idempotent_task_retry_policy": {
      "enabled": true,
      "max_retries": 10,
      "initial_delay_seconds": 1,
      "aggressive_retry": true
    }
  },

  "circuit_breaker": {
    "enabled": true,
    "failure_threshold": 5,
    "timeout_seconds": 60,
    "half_open_requests": 3,
    "reset_timeout_seconds": 300,

    "monitored_operations": [
      "agent_spawn",
      "task_assignment",
      "external_api_calls"
    ]
  },

  "health_status": {
    "overall_health": "healthy",
    "last_check": "2025-10-10T07:29:00Z",
    "active_incidents": 0,
    "recovered_incidents_24h": 0,
    "escalations_24h": 0,
    "auto_resolution_rate_24h": null,

    "component_health": {
      "agents": "healthy",
      "tasks": "healthy",
      "resources": "healthy",
      "network": "healthy"
    }
  },

  "metrics": {
    "recovery_success_rate": null,
    "mean_time_to_recovery_seconds": null,
    "false_positive_rate": 0.02,
    "escalation_rate": 0.06,
    "auto_resolution_rate": 0.94
  }
}
