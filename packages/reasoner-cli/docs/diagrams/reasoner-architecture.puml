@startuml reasoner-architecture
!theme blueprint
skinparam componentStyle rectangle

title Reasoner CLI - System Architecture

package "CLI Layer" {
  [Classifier Commands] as CLI_Classifier
  [Ontology Commands] as CLI_Ontology
  [Inference Commands] as CLI_Inference
  [Validator Commands] as CLI_Validator
}

package "Core Reasoning Engine" {
  [Classification Engine] as Classifier
  [Inference Engine] as Inference
  [Consistency Checker] as Validator
  [Ontology Manager] as Ontology
}

package "OWL 2 Profiles" {
  [OWL 2 DL] as DL
  [OWL 2 EL] as EL
  [OWL 2 QL] as QL
  [OWL 2 RL] as RL
}

package "Reasoning Algorithms" {
  [Tableau Algorithm] as Tableau
  [Consequence-Based] as Consequence
  [Rule-Based] as Rules
}

package "Data Layer" {
  database "RDF Store\n(Oxigraph)" as Store
  database "Ontology Cache" as Cache
  database "Inference Cache" as InfCache
}

CLI_Classifier --> Classifier
CLI_Ontology --> Ontology
CLI_Inference --> Inference
CLI_Validator --> Validator

Classifier --> DL
Classifier --> EL
Inference --> DL
Inference --> QL
Validator --> RL

DL --> Tableau
EL --> Consequence
RL --> Rules

Classifier --> Store
Ontology --> Store
Inference --> InfCache
Validator --> Cache

note right of Classifier
  - Taxonomy building
  - Instance classification
  - ABox realization
  - Performance profiling
end note

note right of Inference
  - Subsumption checking
  - Entailment derivation
  - Equivalence testing
  - Property inference
end note

note right of Validator
  - Consistency checking
  - Profile validation
  - Explanation generation
  - Ontology repair
end note

@enduml
